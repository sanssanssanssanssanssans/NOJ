{% extends "base.html" %}
{% block content %}
<div class="grid-2">
  <div class="card">
    <h3>Recent Problems</h3>
    <table>
      <tr><th>Title</th><th>Views</th><th>Added</th></tr>
      {% for p in recent %}
      <tr>
        <td><a href="{{ url_for('problem', pid=p.id) }}">{{ p.title }}</a></td>
        <td>{{ p.views or 0 }}</td>
        <td>{{ p.created_at }}</td>
      </tr>
      {% endfor %}
    </table>
    <div class="row"><a href="/problems">Browse all â†’</a></div>
  </div>
  <div class="card">
    <h3>Announcements</h3>
    <ul>
      {% for a in announcements %}
      <li><strong>{{ a.title }}</strong> <span class="tag">{{ a.created_at }}</span></li>
      {% else %}
      <li>No announcements</li>
      {% endfor %}
    </ul>
    {% if user and user.is_admin %}
    <div class="row"><a href="/admin/announcement/new">New Announcement</a></div>
    {% endif %}
  </div>
</div>
<div class="card">
  <h3>Contests</h3>
  <table>
    <tr><th>Title</th><th>Start</th><th>End</th><th>Private</th></tr>
    {% for c in contests %}
    <tr>
      <td><a href="/contest/{{ c.id }}">{{ c.title }}</a></td>
      <td>{{ c.start }}</td>
      <td>{{ c.end }}</td>
      <td>{{ 'Yes' if c.is_private else 'No' }}</td>
    </tr>
    {% else %}
    <tr><td colspan="4">No contests</td></tr>
    {% endfor %}
  </table>
</div>
{% endblock %}
